<div class="responsive-info-holder">
    <mat-card class="card">
        <div class="field">
            <b>Fecha de hoy:</b>
            <span> {{date}} </span>
        </div>
        <mat-divider></mat-divider>
        <div class="field">
            <b>Ventas del día:</b>
            <span> {{total | currency}} </span>
        </div>
        <mat-divider></mat-divider>
        <div class="field">
            <b>Ventas del mes:</b>
            <span> {{MonthTotal | currency}} </span>
        </div>
        <mat-divider></mat-divider>
        <div class="field">
            <b>Ganancia neta del mes:</b>
            <span> {{earnings | currency}} </span>
        </div>
        <mat-divider></mat-divider>
        <div class="field">
            <b>Producto popular del mes:</b>
            <span> {{trendProduct}} </span>
        </div>
    </mat-card>
</div>
<div class="grid-container cards-holder" style="margin-bottom: 1rem;">
    <app-info-card
        [title]="'Fecha de hoy'"
        [message]="date"
    ></app-info-card>
    <app-info-card
        [title]="'Ventas del día'"
        [message]="total"
        [type]="'CURRENCY'"
    ></app-info-card>
    <app-info-card
        [title]="'Ventas del mes'"
        [message]="MonthTotal"
        [type]="'CURRENCY'"
    ></app-info-card>
    <app-info-card
        [title]="'Ganancia neta del mes'"
        [message]="earnings"
        [type]="'CURRENCY'"
    ></app-info-card>
    <app-info-card
        [title]="'Producto Popular del mes'"
        [message]="trendProduct? trendProduct : 'No hay producto para mostrar' "
    ></app-info-card>
</div>
<div class="grid-container" style="margin-bottom: 1rem;" >
    <mat-card class="card">
        <div class="card-header">
            <h1> Gráfica de ventas mensual </h1>
        </div>
        <app-bar-chart [labels]="labels" [data]="dailySales" ></app-bar-chart>
    </mat-card>
    <mat-card class="card">
        <div class="card-header">
            <h1> Gráfica de ventas mensual </h1>
        </div>
        <pie-chart [brief]="brief" ></pie-chart>
    </mat-card>
</div>
<div style="display: flex; flex-direction: column; gap: 1rem;">
    <mat-card class="card">
        <div class="card-header">
            <h1>
                Historial de ventas
            </h1>
            <button mat-raised-button color="primary" (click)="exportToExcel()" >
                <mat-icon>
                    download
                </mat-icon>
                Exportar
            </button>
        </div>
        <div class="responsive-card-header">
            <h1>
                Ventas del mes
            </h1>
            <button mat-icon-button color="primary" (click)="exportToExcel()" >
                <mat-icon>
                    download
                </mat-icon>
            </button>
        </div>
        <app-table
            [title]="salesTitle"
            [data]="displaySales"
            [headers]="salesHeaders"
            [setSize]="size"
            [config]="tableConfig"
        ></app-table>
        <mat-paginator 
          [length]="sales?.length?? 0" 
          [pageSizeOptions]="options" 
          [pageSize]="size" 
          (page)="changePage($event)"
          showFirstLastButtons
        ></mat-paginator>
    </mat-card>
</div>